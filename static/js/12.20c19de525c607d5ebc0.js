webpackJsonp([12],{"/4+K":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7qU6"),s={data:function(){return{cardList:[],isAdd:!1,addForm:{userName:"",idNum:"",cardNo:"",userPhone:"",smsCode:""},addRule:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],idNum:[{required:!0,validator:r.a,trigger:"blur"}],cardNo:[{required:!0,message:"请输入银行卡号",trigger:"blur"}],userPhone:[{required:!0,validator:r.b,trigger:"blur"}],smsCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]},isGetCode:!0,getCodeTip:"获取验证码"}},created:function(){this.getBankCard()},methods:{getBankCard:function(){var e=this;this.$api.bankCard().then(function(t){e.cardList=t.data.data}).catch(function(e){return console.log(14,e)})},getTelCode:function(){var e=this;this.isGetCode&&!this.addForm.userPhone||(this.isGetCode=!1,this.$api.getTelCode({moblie:this.addForm.userPhone,type:"0005"}).then(function(t){var a=0,r=0;clearInterval(a),a=setInterval(function(){console.log(a),300==r?(clearInterval(a),e.getCodeTip="重新获取",e.isGetCode=!0):(r+=1,e.getCodeTip=300-r+"s")},1e3)}).catch(function(t){console.log(t),e.isGetCode=!0}))},reset:function(){this.$refs.addForm.resetFields()},addCard:function(){var e=this;this.$api.addCard(this.addForm).then(function(t){e.getBankCard()}).catch(function(e){return console.log(e)})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",{staticClass:"viproute-box card-list clearfix"},[e._l(e.cardList,function(t,r){return a("li",{key:r},[a("div",{staticClass:"content"},[a("Row",{staticClass:"mb10"},[a("Col",{attrs:{span:"16"}},[a("img",{attrs:{src:t.cardImg,alt:""}})]),e._v(" "),a("Col",{staticClass:"card-num",attrs:{span:"8"}},[e._v("尾号："+e._s(t.cardNo))])],1),e._v(" "),a("p",[e._v("持卡人姓名："+e._s(t.userName))]),e._v(" "),a("p",[e._v("手机号："+e._s(t.userPhone))])],1)])}),e._v(" "),a("li",{staticClass:"add",on:{click:function(t){e.isAdd=!0}}},[a("div",{staticClass:"content"},[a("p",{staticClass:"icon"},[a("Icon",{attrs:{type:"ios-add-circle-outline"}})],1),e._v(" "),a("p",{staticClass:"tip"},[e._v("添加银行卡")])])])],2),e._v(" "),a("Modal",{attrs:{title:"新增银行卡","mask-closable":!1,"footer-hide":!0},model:{value:e.isAdd,callback:function(t){e.isAdd=t},expression:"isAdd"}},[a("Form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addRule,"label-width":100}},[a("FormItem",{attrs:{label:"真实姓名",prop:"userName"}},[a("Input",{attrs:{type:"text",maxlength:25,placeholder:"请输入持卡人姓名"},model:{value:e.addForm.userName,callback:function(t){e.$set(e.addForm,"userName",t)},expression:"addForm.userName"}})],1),e._v(" "),a("FormItem",{attrs:{label:"身份证号",prop:"idNum"}},[a("Input",{attrs:{type:"text",maxlength:18,placeholder:"请输入身份证号"},model:{value:e.addForm.idNum,callback:function(t){e.$set(e.addForm,"idNum",t)},expression:"addForm.idNum"}})],1),e._v(" "),a("FormItem",{attrs:{label:"银行卡号",prop:"cardNo"}},[a("Input",{attrs:{type:"text",placeholder:"请输入银行卡号"},model:{value:e.addForm.cardNo,callback:function(t){e.$set(e.addForm,"cardNo",t)},expression:"addForm.cardNo"}})],1),e._v(" "),a("FormItem",{attrs:{label:"手机号",prop:"userPhone"}},[a("Input",{attrs:{placeholder:"请输入该卡银行预留手机号"},model:{value:e.addForm.userPhone,callback:function(t){e.$set(e.addForm,"userPhone",t)},expression:"addForm.userPhone"}})],1),e._v(" "),a("FormItem",{attrs:{label:"验证码",prop:"smsCode"}},[a("Row",[a("Col",{attrs:{span:"16"}},[a("Input",{attrs:{placeholder:"请输入验证码"},model:{value:e.addForm.smsCode,callback:function(t){e.$set(e.addForm,"smsCode",t)},expression:"addForm.smsCode"}})],1),e._v(" "),a("Col",{attrs:{span:"7",offset:"1"}},[a("Button",{attrs:{disabled:!e.isGetCode,type:"primary"},on:{click:e.getTelCode}},[e._v(e._s(e.getCodeTip))])],1)],1)],1),e._v(" "),a("FormItem",[a("Button",{staticClass:"mr8",attrs:{type:"primary"},on:{click:e.addCard}},[e._v("添加")]),e._v(" "),a("Button",{on:{click:e.reset}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var d=a("C7Lr")(s,o,!1,function(e){a("0q8T")},"data-v-45d6934d",null);t.default=d.exports},"0q8T":function(e,t){}});
//# sourceMappingURL=12.20c19de525c607d5ebc0.js.map