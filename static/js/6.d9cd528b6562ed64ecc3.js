webpackJsonp([6],{M6re:function(t,e){},Z4WL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("4YfN"),s=a.n(o),n=a("2bvH"),l={computed:s()({},Object(n.c)(["getUserInfo","getShopingCart"])),data:function(){return{allSelect:!1,totalGoods:0,totalMoney:0,totalNum:0}},created:function(){this.getCart()},methods:s()({},Object(n.b)(["setShopingCart"]),{getCart:function(){var t=this;this.$api.getShopingCart(this.getUserInfo).then(function(e){var a=e.data.data.map(function(t){return t.isCheck=!1,t});t.setShopingCart(a)}).catch(function(t){return console.log(t)})},selectAll:function(t){this.getShopingCart.map(function(e){return e.isCheck=t}),this.selectGood()},selectGood:function(){var t=this;this.totalMoney=0,this.totalNum=0,this.totalGoods=0,this.getShopingCart.filter(function(e){e.isCheck&&(t.totalMoney+=1*e.price,t.totalNum+=1*e.num,t.totalGoods+=1)}),this.allSelect=!(this.totalGoods!=this.getShopingCart.length)},updateCart:function(t,e){var a=this;this.$utils.throttle(function(){a.$api.updateCart({orderSn:t.orderSn,num:t.num,type:0}).then(function(e){var a=e.data.data[0];t.unitPrice=a.unitPrice,t.price=a.price}).catch(function(t){return console.log(t)})},500)},toPlay:function(){if(!this.totalGoods)return this.$Notice.info({title:"请选择要购买的商品"});this.setShopingCart(this.getShopingCart),this.$router.push("/web/play")}})},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-header",{attrs:{isOther:!0}}),t._v(" "),a("div",{staticClass:"web"},[a("Row",{staticClass:"cart-header"},[a("Col",{attrs:{span:"2"}},[a("Checkbox",{attrs:{checked:t.allSelect},on:{"update:checked":function(e){t.allSelect=e},"on-change":t.selectAll},model:{value:t.allSelect,callback:function(e){t.allSelect=e},expression:"allSelect"}},[t._v("全选")])],1),t._v(" "),a("Col",{attrs:{span:"4",offset:"2"}},[t._v("商品")]),t._v(" "),a("Col",{attrs:{span:"3",offset:"2"}},[t._v("数量")]),t._v(" "),a("Col",{attrs:{span:"3",offset:"2"}},[t._v("单价（元）")]),t._v(" "),a("Col",{attrs:{span:"4",offset:"2"}},[t._v("金额（元）")])],1),t._v(" "),t._l(t.getShopingCart,function(e,o){return a("Row",{key:o,staticClass:"goods-box"},[a("Col",{attrs:{span:"1"}},[a("Checkbox",{on:{"on-change":t.selectGood},model:{value:e.isCheck,callback:function(a){t.$set(e,"isCheck",a)},expression:"item.isCheck"}})],1),t._v(" "),a("Col",{staticClass:"img-box",attrs:{span:"4"}},[a("img",{attrs:{src:e.goodsImg,alt:""}})]),t._v(" "),a("Col",{attrs:{span:"2"}},[t._v(t._s(e.goodsName))]),t._v(" "),a("Col",{attrs:{span:"5",offset:"2"}},[a("InputNumber",{attrs:{max:100,min:1},on:{"on-change":function(a){return t.updateCart(e,o)}},model:{value:e.num,callback:function(a){t.$set(e,"num",a)},expression:"item.num"}})],1),t._v(" "),a("Col",{attrs:{span:"5"}},[a("p",[t._v(t._s(e.unitPrice))])]),t._v(" "),a("Col",{attrs:{span:"4",offset:"1"}},[t._v(t._s(e.price))])],1)}),t._v(" "),a("Row",{staticClass:"cart-header"},[a("Col",{attrs:{span:"3",offset:"1"}},[t._v("删除选中的商品")]),t._v(" "),a("Col",{attrs:{span:"6"}},[t._v("\n        已选商品：\n        "),a("span",{staticClass:"redColor"},[t._v(t._s(t.totalGoods))]),t._v("种\n      ")]),t._v(" "),a("Col",{attrs:{span:"4"}},[t._v("\n        数量总计：\n        "),a("span",{staticClass:"redColor"},[t._v(t._s(t.totalNum))]),t._v("件\n      ")]),t._v(" "),a("Col",{attrs:{span:"7"}},[t._v("\n        总计（不含运费）：\n        "),a("span",{staticClass:"redColor"},[t._v(t._s(t.totalMoney))]),t._v("元\n      ")]),t._v(" "),a("Col",{attrs:{span:"3"}},[a("span",{class:["play-btn",{disable:!t.totalGoods}],on:{click:t.toPlay}},[t._v("结算")])])],1)],2),t._v(" "),a("v-footer")],1)},staticRenderFns:[]};var i=a("C7Lr")(l,r,!1,function(t){a("M6re")},"data-v-c1f8c22c",null);e.default=i.exports}});
//# sourceMappingURL=6.d9cd528b6562ed64ecc3.js.map