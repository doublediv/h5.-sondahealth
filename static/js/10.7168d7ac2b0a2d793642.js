webpackJsonp([10],{"+GNb":function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=i("3cXf"),o=i.n(a),e=i("4YfN"),r=i.n(e),n=i("2bvH"),l={data:function(){return{proName:"",proBigImg:"",goodSn:this.$route.query.goodSn,proImg:[],stock:0,buyNum:1,priceTip:"",priceList:{},detailSku:{},reprotList:[],detailImgs:[]}},computed:r()({},Object(n.c)(["getUserInfo","getShopingCart"])),created:function(){this.getDetails()},methods:r()({},Object(n.b)(["setShopingCart"]),{getDetails:function(){var t=this;this.$api.proDetails({goodSn:this.goodSn}).then(function(s){"";var i=s.data.data;t.proName=i.syGoods.goodsName,t.proImg=i.syGoods.goodsSubimg?i.syGoods.goodsSubimg.split(","):[],t.proBigImg=t.proImg[0]||i.syGoods.goodsImg,t.stock=i.syGoodsAttr.goodsTotalCountSurplus,t.priceTip=i.syGoodsAttr.priceSku.title,t.priceList=JSON.parse(i.syGoodsAttr.priceSku.value),t.detailSku=JSON.parse(i.syGoodsAttr.goodsSku),t.reprotList=i.syGoodsAttr.goodsDetailReport?i.syGoodsAttr.goodsDetailReport.split(","):[],t.detailImgs=i.syGoodsAttr.goodsDetailImgs?i.syGoodsAttr.goodsDetailImgs.split(","):[]}).catch(function(t){return console.log(t)})},addGood:function(){var t=this,s=o()(this.detailSku);this.$api.addGood({goodSn:this.goodSn,num:this.buyNum,sku:s}).then(function(s){var i=!0;t.getShopingCart.filter(function(s){s.goodsSn==t.goodSn&&(s.num+=t.buyNum,i=!1)}),i&&t.getShopingCart.push({num:t.buyNum}),t.setShopingCart(t.getShopingCart),t.$router.push("/web/addToCart")}).catch(function(t){return console.log(t)})}})},c={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("v-header"),t._v(" "),i("div",{staticClass:"deatails-header"},[i("div",{staticClass:"web"},[i("Row",[i("Col",{attrs:{span:"8"}},[i("div",{staticClass:"big-img"},[i("img",{attrs:{src:t.proBigImg,alt:""}})]),t._v(" "),i("ul",{staticClass:"small-img clearfix"},t._l(t.proImg,function(s,a){return i("li",{key:a,on:{click:function(i){t.proBigImg=s}}},[i("img",{attrs:{src:s,alt:""}})])}),0)]),t._v(" "),i("Col",{attrs:{span:"12",offset:"4"}},[i("h3",{staticClass:"pro-name"},[t._v(t._s(t.proName))]),t._v(" "),t.getUserInfo.token?i("Row",{staticClass:"price-box"},[i("Col",{staticClass:"tip",attrs:{span:"6"}},[t._v(t._s(t.priceTip))]),t._v(" "),i("Col",{attrs:{span:"18"}},[i("ul",{staticClass:"price-list"},t._l(t.priceList,function(s,a,o){return i("li",{key:o,staticClass:"clearfix"},[i("span",{staticClass:"num"},[t._v(t._s(a))]),t._v(" "),i("span",{staticClass:"price"},[i("em",[t._v(t._s(s))])])])}),0)])],1):i("div",{staticClass:"login-tip"},[t._v("\n            请\n            "),i("router-link",{attrs:{to:"/web/login",replace:""}},[t._v("登录")]),t._v("后查看商品价格\n          ")],1),t._v(" "),i("Row",{staticClass:"pl20 buy-num"},[i("Col",{staticClass:"num",attrs:{span:"2"}},[t._v("数量")]),t._v(" "),i("Col",{attrs:{span:"6"}},[i("InputNumber",{attrs:{max:t.stock,min:1},model:{value:t.buyNum,callback:function(s){t.buyNum=s},expression:"buyNum"}})],1)],1),t._v(" "),i("div",{staticClass:"pl20"},[i("Button",{attrs:{icon:"md-cart",type:"primary"},on:{click:t.addGood}},[t._v("加入购物车")])],1)],1)],1)],1)]),t._v(" "),i("div",{staticClass:"detail-content web"},[i("Row",t._l(t.detailSku,function(s,a,o){return i("Col",{key:o,attrs:{span:"8"}},[i("span",{staticClass:"key"},[t._v(t._s(a))]),t._v(" "),i("span",{staticClass:"val"},[t._v(t._s(s))])])}),1)],1),t._v(" "),t.reprotList.length?i("div",{staticClass:"detail-report web"},[t._m(0),t._v(" "),i("ul",{staticClass:"report-list clearfix"},t._l(t.reprotList,function(t,s){return i("li",{key:s},[i("img",{attrs:{src:t,alt:""}})])}),0)]):t._e(),t._v(" "),t.detailImgs.length?i("div",{staticClass:"detail-imgs web"},[t._m(1),t._v(" "),i("ul",{staticClass:"detail-list"},t._l(t.detailImgs,function(t,s){return i("li",{key:s},[i("img",{attrs:{src:t,alt:""}})])}),0)]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"detail-title"},[s("span",[this._v("产品检测报告")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"detail-title"},[s("span",[this._v("商品信息")])])}]};var u=i("C7Lr")(l,c,!1,function(t){i("KYPn")},"data-v-6af48310",null);s.default=u.exports},KYPn:function(t,s){}});
//# sourceMappingURL=10.7168d7ac2b0a2d793642.js.map